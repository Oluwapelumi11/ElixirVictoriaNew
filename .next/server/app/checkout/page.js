(()=>{var e={};e.id=285,e.ids=[285],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8616:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>d,routeModule:()=>x,tree:()=>c}),t(1324),t(1600),t(2523);var a=t(3191),i=t(8716),r=t(7922),l=t.n(r),n=t(5231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(s,o);let c=["",{children:["checkout",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,1324)),"C:\\Users\\USER\\Desktop\\Elixir-Victoria\\ElixirJS\\elixir-victoria-ui\\src\\app\\checkout\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,1600)),"C:\\Users\\USER\\Desktop\\Elixir-Victoria\\ElixirJS\\elixir-victoria-ui\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,2523)),"C:\\Users\\USER\\Desktop\\Elixir-Victoria\\ElixirJS\\elixir-victoria-ui\\src\\app\\not-found.tsx"]}],d=["C:\\Users\\USER\\Desktop\\Elixir-Victoria\\ElixirJS\\elixir-victoria-ui\\src\\app\\checkout\\page.tsx"],m="/checkout/page",u={require:t,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/checkout/page",pathname:"/checkout",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},9786:(e,s,t)=>{Promise.resolve().then(t.bind(t,7758))},6333:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},8916:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},7636:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},5047:(e,s,t)=>{"use strict";var a=t(7389);t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})},7758:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>g});var a=t(326),i=t(7577),r=t(6856),l=t(2443),n=t(434),o=t(6333),c=t(9635),d=t(5932),m=t(2887),u=t(7636),x=t(8916),h=t(6040),p=t(5047),y=t(6226);function g(){let[e,s]=(0,l.YD)({triggerOnce:!0,threshold:.1}),{items:t,getSubtotal:g,getTotal:j,clearCart:f}=(0,h.xS)(),{user:N,isAuthenticated:b,token:v}=(0,h.LM)();(0,p.useRouter)();let[_,w]=(0,i.useState)({customer_name:N?.firstName?`${N.firstName} ${N.lastName}`:"",customer_email:N?.email||"",customer_phone:"",notes:""}),[k,P]=(0,i.useState)([]),[S,C]=(0,i.useState)(!1),[E,q]=(0,i.useState)(!1),[z,U]=(0,i.useState)(""),[F,Z]=(0,i.useState)(!1),[R,A]=(0,i.useState)(""),L=g(),O=L>200?0:15,T=.1*L,D=j(),J=e=>{let{name:s,value:t}=e.target;w(e=>({...e,[s]:t}))},M=async()=>{C(!0),U("");try{let e=process.env.NEXT_PUBLIC_BACKEND_URL||"/api",s=await fetch(`${e}/orders`,{method:"POST",headers:{"Content-Type":"application/json",...v&&{Authorization:`Bearer ${v}`}},body:JSON.stringify({customer_email:_.customer_email,customer_name:_.customer_name,customer_phone:_.customer_phone,items:t.map(e=>({product:e.product,quantity:e.quantity})),subtotal:L,tax:T,shipping:O,total:D,shipping_address_id:_.shipping_address_id,billing_address_id:_.billing_address_id,notes:_.notes})}),a=await s.json();s.ok?await $(a.order.id):U(a.message||"Failed to create order")}catch(e){U("Failed to create order. Please try again.")}finally{C(!1)}},$=async e=>{q(!0),U("");try{let s=process.env.NEXT_PUBLIC_BACKEND_URL||"/api",t=await fetch(`${s}/payments/initialize`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({order_id:e,email:_.customer_email,amount:D,callback_url:`${window.location.origin}/payment/verify`})}),a=await t.json();t.ok?(A(a.authorization_url),window.location.href=a.authorization_url):U(a.message||"Failed to initialize payment")}catch(e){U("Payment initialization failed. Please try again.")}finally{q(!1)}},B={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}};return 0===t.length?null:a.jsx("div",{className:"min-h-screen bg-black pt-20",children:a.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:(0,a.jsxs)(r.E.div,{ref:e,initial:{opacity:0,y:30},animate:s?{opacity:1,y:0}:{},transition:{duration:.8,ease:"easeOut"},children:[(0,a.jsxs)("div",{className:"mb-12",children:[(0,a.jsxs)(n.default,{href:"/cart",className:"inline-flex items-center text-yellow-500 hover:text-yellow-400 transition-colors duration-300 mb-6",children:[a.jsx(o.Z,{size:20,className:"mr-2"}),"Back to Cart"]}),a.jsx("h1",{className:"text-heading-xl font-serif text-white mb-6",children:"Checkout"}),a.jsx("p",{className:"text-body-lg text-gray-400",children:"Complete your purchase with secure payment via Paystack. No account required - just provide your email to track your order."})]}),(0,a.jsxs)(r.E.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},initial:"hidden",animate:s?"visible":"hidden",className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[a.jsx(r.E.div,{variants:B,children:(0,a.jsxs)("div",{className:"bg-gray-800 border border-gray-700 rounded-sm p-8",children:[a.jsx("h2",{className:"text-heading-lg font-serif text-white mb-6",children:"Order Summary"}),a.jsx("div",{className:"space-y-4 mb-6",children:t.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-4 p-4 bg-gray-700 rounded-sm",children:[a.jsx("div",{className:"relative w-16 h-16 flex-shrink-0",children:a.jsx(y.default,{src:e.product.images[0],alt:e.product.name,fill:!0,className:"object-cover rounded-sm"})}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-white font-medium",children:e.product.name}),(0,a.jsxs)("p",{className:"text-gray-400 text-sm",children:["Qty: ",e.quantity]})]}),a.jsx("div",{className:"text-right",children:(0,a.jsxs)("p",{className:"text-white font-medium",children:["₦",(e.product.price*e.quantity).toLocaleString()]})})]},e.product.id))}),(0,a.jsxs)("div",{className:"border-t border-gray-700 pt-6 space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Subtotal"}),(0,a.jsxs)("span",{className:"text-white",children:["₦",L.toLocaleString()]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Tax (10%)"}),(0,a.jsxs)("span",{className:"text-white",children:["₦",T.toLocaleString()]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Shipping"}),a.jsx("span",{className:"text-white",children:0===O?"Free":`₦${O.toLocaleString()}`})]}),(0,a.jsxs)("div",{className:"flex justify-between text-lg font-medium border-t border-gray-700 pt-3",children:[a.jsx("span",{className:"text-white",children:"Total"}),(0,a.jsxs)("span",{className:"text-yellow-500",children:["₦",D.toLocaleString()]})]})]})]})}),a.jsx(r.E.div,{variants:B,children:(0,a.jsxs)("div",{className:"bg-gray-800 border border-gray-700 rounded-sm p-8",children:[a.jsx("h2",{className:"text-heading-lg font-serif text-white mb-6",children:"Customer Information"}),z&&a.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-sm p-4 mb-6",children:a.jsx("p",{className:"text-red-400 text-body-sm",children:z})}),(0,a.jsxs)("form",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[a.jsx("label",{htmlFor:"customer_name",className:"block text-white text-body-sm font-medium",children:"Full Name *"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(c.Z,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",id:"customer_name",name:"customer_name",value:_.customer_name,onChange:J,required:!0,className:"input-luxury w-full h-14 pl-10",placeholder:"Your full name"})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[a.jsx("label",{htmlFor:"customer_email",className:"block text-white text-body-sm font-medium",children:"Email Address *"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(d.Z,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"email",id:"customer_email",name:"customer_email",value:_.customer_email,onChange:J,required:!0,className:"input-luxury w-full h-14 pl-10",placeholder:"your@email.com"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[a.jsx("label",{htmlFor:"customer_phone",className:"block text-white text-body-sm font-medium",children:"Phone Number"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(m.Z,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"tel",id:"customer_phone",name:"customer_phone",value:_.customer_phone,onChange:J,className:"input-luxury w-full h-14 pl-10",placeholder:"+234 704 892 8368"})]})]}),b&&k.length>0&&(0,a.jsxs)("div",{className:"space-y-3",children:[a.jsx("label",{htmlFor:"shipping_address_id",className:"block text-white text-body-sm font-medium",children:"Shipping Address"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(u.Z,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,a.jsxs)("select",{id:"shipping_address_id",name:"shipping_address_id",value:_.shipping_address_id,onChange:J,className:"input-luxury w-full h-14 pl-10",children:[a.jsx("option",{value:"",children:"Select shipping address"}),k.filter(e=>"shipping"===e.type).map(e=>(0,a.jsxs)("option",{value:e.id,children:[e.address_line1,", ",e.city]},e.id))]})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[a.jsx("label",{htmlFor:"notes",className:"block text-white text-body-sm font-medium",children:"Order Notes"}),a.jsx("textarea",{id:"notes",name:"notes",value:_.notes,onChange:J,rows:3,className:"input-luxury w-full resize-none px-6 py-4",placeholder:"Any special instructions or notes..."})]}),a.jsx("div",{className:"pt-4",children:a.jsx("button",{type:"button",onClick:M,disabled:S||E,className:"btn-luxury w-full h-14 flex items-center justify-center text-body-md font-medium",children:S?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white mr-3"}),"Creating Order..."]}):E?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white mr-3"}),"Processing Payment..."]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(x.Z,{size:22,className:"mr-3"}),"Proceed to Payment"]})})})]}),a.jsx("div",{className:"mt-6 text-center",children:(0,a.jsxs)("p",{className:"text-gray-400 text-sm",children:["Payment powered by"," ",a.jsx("span",{className:"text-yellow-500 font-medium",children:"Paystack"})]})})]})})]})]})})})}},1324:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(8570).createProxy)(String.raw`C:\Users\USER\Desktop\Elixir-Victoria\ElixirJS\elixir-victoria-ui\src\app\checkout\page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[276,969,712],()=>t(8616));module.exports=a})();