(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11],{4402:function(e,t,r){Promise.resolve().then(r.bind(r,564))},2660:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},7769:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},2208:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},6337:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},9345:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},2369:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},9376:function(e,t,r){"use strict";var s=r(5475);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},257:function(e,t,r){"use strict";var s,n;e.exports=(null==(s=r.g.process)?void 0:s.env)&&"object"==typeof(null==(n=r.g.process)?void 0:n.env)?r.g.process:r(4227)},4227:function(e){!function(){var t={229:function(e){var t,r,s,n=e.exports={};function i(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l=[],c=!1,u=-1;function d(){c&&s&&(c=!1,s.length?l=s.concat(l):u=-1,l.length&&m())}function m(){if(!c){var e=o(d);c=!0;for(var t=l.length;t;){for(s=l,l=[];++u<t;)s&&s[u].run();u=-1,t=l.length}s=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new h(e,t)),1!==l.length||c||o(m)},h.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw Error("process.chdir is not supported")},n.umask=function(){return 0}}},r={};function s(e){var n=r[e];if(void 0!==n)return n.exports;var i=r[e]={exports:{}},a=!0;try{t[e](i,i.exports,s),a=!1}finally{a&&delete r[e]}return i.exports}s.ab="//";var n=s(229);e.exports=n}()},564:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return y}});var s=r(7437),n=r(2265),i=r(429),a=r(8819),o=r(7648),l=r(2660),c=r(2369),u=r(9345),d=r(6337),m=r(7769),h=r(2208),p=r(2371),f=r(9376),x=r(257);function y(){let[e,t]=(0,a.YD)({triggerOnce:!0,threshold:.1}),[r,y]=(0,n.useState)({name:"",email:"",password:"",confirmPassword:""}),[v,g]=(0,n.useState)(!1),[b,w]=(0,n.useState)(!1),[j,N]=(0,n.useState)(!1),[k,O]=(0,n.useState)(""),{login:C}=(0,p.LM)(),M=(0,f.useRouter)(),S=e=>{let{name:t,value:r}=e.target;y(e=>({...e,[t]:r}))},T=async e=>{if(e.preventDefault(),N(!0),O(""),r.password!==r.confirmPassword){O("Passwords do not match"),N(!1);return}if(r.password.length<6){O("Password must be at least 6 characters long"),N(!1);return}try{let e=x.env.NEXT_PUBLIC_BACKEND_URL||"http://localhost:5000",t=await fetch("".concat(e,"/api/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r.name,email:r.email,password:r.password})}),s=await t.json();t.ok?(C(s),M.push("/account")):O(s.message||"Registration failed")}catch(e){O("Network error. Please check your connection and try again.")}finally{N(!1)}},E={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}};return(0,s.jsx)("div",{className:"min-h-screen bg-black pt-20",children:(0,s.jsx)("div",{className:"max-w-md mx-auto px-4 sm:px-6 lg:px-8 py-24",children:(0,s.jsxs)(i.E.div,{ref:e,initial:{opacity:0,y:30},animate:t?{opacity:1,y:0}:{},transition:{duration:.8,ease:"easeOut"},children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsxs)(o.default,{href:"/",className:"inline-flex items-center text-yellow-500 hover:text-yellow-400 transition-colors duration-300 mb-6",children:[(0,s.jsx)(l.Z,{size:20,className:"mr-2"}),"Back to Home"]}),(0,s.jsx)("h1",{className:"text-heading-xl font-serif text-white mb-4",children:"Create Account"}),(0,s.jsx)("p",{className:"text-body-lg text-gray-400",children:"Join Elixir Victoria to save your shipping addresses and enjoy a personalized shopping experience."})]}),(0,s.jsx)(i.E.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},initial:"hidden",animate:t?"visible":"hidden",children:(0,s.jsxs)("div",{className:"bg-gray-800 border border-gray-700 rounded-sm p-8",children:[(0,s.jsxs)("form",{onSubmit:T,className:"space-y-6",children:[k&&(0,s.jsx)(i.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-red-500/10 border border-red-500/20 rounded-sm p-4",children:(0,s.jsx)("p",{className:"text-red-400 text-body-sm",children:k})}),(0,s.jsxs)(i.E.div,{variants:E,children:[(0,s.jsx)("label",{htmlFor:"name",className:"block text-white text-body-sm font-medium mb-2",children:"Full Name"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(c.Z,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,s.jsx)("input",{type:"text",id:"name",name:"name",value:r.name,onChange:S,required:!0,className:"input-luxury w-full pl-10",placeholder:"Your full name"})]})]}),(0,s.jsxs)(i.E.div,{variants:E,children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-white text-body-sm font-medium mb-2",children:"Email Address"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(u.Z,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,s.jsx)("input",{type:"email",id:"email",name:"email",value:r.email,onChange:S,required:!0,className:"input-luxury w-full pl-10",placeholder:"your@email.com"})]})]}),(0,s.jsxs)(i.E.div,{variants:E,children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-white text-body-sm font-medium mb-2",children:"Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(d.Z,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,s.jsx)("input",{type:v?"text":"password",id:"password",name:"password",value:r.password,onChange:S,required:!0,className:"input-luxury w-full pl-10 pr-10",placeholder:"Create a password"}),(0,s.jsx)("button",{type:"button",onClick:()=>g(!v),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors duration-300",children:v?(0,s.jsx)(m.Z,{size:20}):(0,s.jsx)(h.Z,{size:20})})]}),(0,s.jsx)("p",{className:"text-gray-500 text-xs mt-1",children:"Must be at least 6 characters long"})]}),(0,s.jsxs)(i.E.div,{variants:E,children:[(0,s.jsx)("label",{htmlFor:"confirmPassword",className:"block text-white text-body-sm font-medium mb-2",children:"Confirm Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(d.Z,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,s.jsx)("input",{type:b?"text":"password",id:"confirmPassword",name:"confirmPassword",value:r.confirmPassword,onChange:S,required:!0,className:"input-luxury w-full pl-10 pr-10",placeholder:"Confirm your password"}),(0,s.jsx)("button",{type:"button",onClick:()=>w(!b),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors duration-300",children:b?(0,s.jsx)(m.Z,{size:20}):(0,s.jsx)(h.Z,{size:20})})]})]}),(0,s.jsx)(i.E.div,{variants:E,children:(0,s.jsx)("button",{type:"submit",disabled:j,className:"btn-luxury w-full flex items-center justify-center",children:j?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Creating Account..."]}):"Create Account"})})]}),(0,s.jsx)(i.E.div,{variants:E,className:"mt-6 text-center",children:(0,s.jsxs)("p",{className:"text-gray-400 text-body-sm",children:["Already have an account?"," ",(0,s.jsx)(o.default,{href:"/login",className:"text-yellow-500 hover:text-yellow-400 transition-colors duration-300 font-medium",children:"Sign in here"})]})})]})})]})})})}},2371:function(e,t,r){"use strict";r.d(t,{HB:function(){return o},LM:function(){return a},Yl:function(){return l},xS:function(){return i}});var s=r(9625),n=r(6885);let i=(0,s.Ue)()((0,n.tJ)((e,t)=>({items:[],addItem:function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2?arguments[2]:void 0;e(e=>{let n=e.items.find(e=>e.productId===t.id&&e.size===s);if(n)return{items:e.items.map(e=>e.id===n.id?{...e,quantity:e.quantity+r}:e)};let i={id:Math.random().toString(36).substr(2,9),productId:t.id,product:t,quantity:r,size:s,addedAt:new Date};return{items:[...e.items,i]}})},removeItem:t=>{e(e=>({items:e.items.filter(e=>e.id!==t)}))},updateQuantity:(r,s)=>{if(s<=0){t().removeItem(r);return}e(e=>({items:e.items.map(e=>e.id===r?{...e,quantity:s}:e)}))},clearCart:()=>{e({items:[]})},getTotalItems:()=>t().items.reduce((e,t)=>e+t.quantity,0),getSubtotal:()=>t().items.reduce((e,t)=>e+t.product.price*t.quantity,0),getTotal:()=>{let e=t().getSubtotal();return e+.08*e+(e>200?0:15)}}),{name:"elixir-victoria-cart"})),a=(0,s.Ue)(e=>({user:null,token:null,isAuthenticated:!1,isLoading:!1,login:t=>{e({user:t.user,token:t.token,isAuthenticated:!0})},logout:()=>{e({user:null,token:null,isAuthenticated:!1})},updateUser:t=>{e(e=>({user:e.user?{...e.user,...t}:null}))}})),o=(0,s.Ue)(e=>({isCartOpen:!1,isSearchOpen:!1,isMobileMenuOpen:!1,isNewsletterOpen:!1,openCart:()=>e({isCartOpen:!0}),closeCart:()=>e({isCartOpen:!1}),toggleCart:()=>e(e=>({isCartOpen:!e.isCartOpen})),openSearch:()=>e({isSearchOpen:!0}),closeSearch:()=>e({isSearchOpen:!1}),toggleSearch:()=>e(e=>({isSearchOpen:!e.isSearchOpen})),openMobileMenu:()=>e({isMobileMenuOpen:!0}),closeMobileMenu:()=>e({isMobileMenuOpen:!1}),toggleMobileMenu:()=>e(e=>({isMobileMenuOpen:!e.isMobileMenuOpen})),openNewsletter:()=>e({isNewsletterOpen:!0}),closeNewsletter:()=>e({isNewsletterOpen:!1}),toggleNewsletter:()=>e(e=>({isNewsletterOpen:!e.isNewsletterOpen}))})),l=(0,s.Ue)()((0,n.tJ)((e,t)=>({items:[],addItem:t=>{e(e=>e.items.some(e=>e.id===t.id)?e:{items:[...e.items,t]})},removeItem:t=>{e(e=>({items:e.items.filter(e=>e.id!==t)}))},isInWishlist:e=>t().items.some(t=>t.id===e),clearWishlist:()=>{e({items:[]})},getTotalItems:()=>t().items.length}),{name:"elixir-victoria-wishlist"}))}},function(e){e.O(0,[710,648,377,971,117,744],function(){return e(e.s=4402)}),_N_E=e.O()}]);