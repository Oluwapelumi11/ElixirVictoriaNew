(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[346],{7471:function(e,t,s){Promise.resolve().then(s.bind(s,8522))},2660:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},7692:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},3774:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},9397:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},8930:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},2369:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},9376:function(e,t,s){"use strict";var r=s(5475);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},257:function(e,t,s){"use strict";var r,i;e.exports=(null==(r=s.g.process)?void 0:r.env)&&"object"==typeof(null==(i=s.g.process)?void 0:i.env)?s.g.process:s(4227)},4227:function(e){!function(){var t={229:function(e){var t,s,r,i=e.exports={};function n(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function l(e){if(t===setTimeout)return setTimeout(e,0);if((t===n||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(s){try{return t.call(null,e,0)}catch(s){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:n}catch(e){t=n}try{s="function"==typeof clearTimeout?clearTimeout:a}catch(e){s=a}}();var c=[],o=!1,d=-1;function u(){o&&r&&(o=!1,r.length?c=r.concat(c):d=-1,c.length&&m())}function m(){if(!o){var e=l(u);o=!0;for(var t=c.length;t;){for(r=c,c=[];++d<t;)r&&r[d].run();d=-1,t=c.length}r=null,o=!1,function(e){if(s===clearTimeout)return clearTimeout(e);if((s===a||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(e);try{s(e)}catch(t){try{return s.call(null,e)}catch(t){return s.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function x(){}i.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)t[s-1]=arguments[s];c.push(new h(e,t)),1!==c.length||o||l(m)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=x,i.addListener=x,i.once=x,i.off=x,i.removeListener=x,i.removeAllListeners=x,i.emit=x,i.prependListener=x,i.prependOnceListener=x,i.listeners=function(e){return[]},i.binding=function(e){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw Error("process.chdir is not supported")},i.umask=function(){return 0}}},s={};function r(e){var i=s[e];if(void 0!==i)return i.exports;var n=s[e]={exports:{}},a=!0;try{t[e](n,n.exports,r),a=!1}finally{a&&delete s[e]}return n.exports}r.ab="//";var i=r(229);e.exports=i}()},8522:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return v}});var r=s(7437),i=s(2265),n=s(429),a=s(8819),l=s(7648),c=s(2660),o=s(2369),d=s(7692),u=s(3774),m=s(9397);let h=(0,s(9763).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);var x=s(8930),f=s(2371),p=s(9376),y=s(257);function v(){let[e,t]=(0,a.YD)({triggerOnce:!0,threshold:.1}),{user:s,isAuthenticated:v,logout:g,token:b}=(0,f.LM)(),N=(0,p.useRouter)(),[j,w]=(0,i.useState)([]),[k,M]=(0,i.useState)(!0);(0,i.useEffect)(()=>{v||N.push("/login")},[v,N]),(0,i.useEffect)(()=>{v&&s&&O()},[v,s]);let O=async()=>{try{let e=y.env.NEXT_PUBLIC_BACKEND_URL||"http://localhost:5000",t=await fetch("".concat(e,"/api/addresses"),{headers:{Authorization:"Bearer ".concat(b)}});if(t.ok){let e=await t.json();w(e.addresses)}}catch(e){console.error("Failed to load addresses:",e)}finally{M(!1)}};if(!v)return null;let S={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}};return(0,r.jsx)("div",{className:"min-h-screen bg-black pt-20",children:(0,r.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:(0,r.jsxs)(n.E.div,{ref:e,initial:{opacity:0,y:30},animate:t?{opacity:1,y:0}:{},transition:{duration:.8,ease:"easeOut"},children:[(0,r.jsxs)("div",{className:"mb-12",children:[(0,r.jsxs)(l.default,{href:"/",className:"inline-flex items-center text-yellow-500 hover:text-yellow-400 transition-colors duration-300 mb-6",children:[(0,r.jsx)(c.Z,{size:20,className:"mr-2"}),"Back to Home"]}),(0,r.jsx)("h1",{className:"text-heading-xl font-serif text-white mb-6",children:"My Account"}),(0,r.jsx)("p",{className:"text-body-lg text-gray-400",children:"Manage your profile, addresses, and preferences."})]}),(0,r.jsxs)(n.E.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},initial:"hidden",animate:t?"visible":"hidden",className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[(0,r.jsx)(n.E.div,{variants:S,children:(0,r.jsxs)("div",{className:"bg-gray-800 border border-gray-700 rounded-sm p-8",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,r.jsx)(o.Z,{size:24,className:"text-yellow-500"}),(0,r.jsx)("h2",{className:"text-heading-lg font-serif text-white",children:"Profile Information"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-400 text-body-sm mb-1",children:"Name"}),(0,r.jsxs)("p",{className:"text-white text-body-md",children:[null==s?void 0:s.firstName," ",null==s?void 0:s.lastName]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-400 text-body-sm mb-1",children:"Email"}),(0,r.jsx)("p",{className:"text-white text-body-md",children:null==s?void 0:s.email})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-400 text-body-sm mb-1",children:"Member Since"}),(0,r.jsx)("p",{className:"text-white text-body-md",children:(null==s?void 0:s.createdAt)?new Date(s.createdAt).toLocaleDateString():"N/A"})]})]}),(0,r.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-700",children:(0,r.jsxs)("button",{onClick:()=>{g(),N.push("/")},className:"btn-luxury-ghost w-full flex items-center justify-center",children:[(0,r.jsx)(d.Z,{size:20,className:"mr-2"}),"Sign Out"]})})]})}),(0,r.jsx)(n.E.div,{variants:S,children:(0,r.jsxs)("div",{className:"bg-gray-800 border border-gray-700 rounded-sm p-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)(u.Z,{size:24,className:"text-yellow-500"}),(0,r.jsx)("h2",{className:"text-heading-lg font-serif text-white",children:"Saved Addresses"})]}),(0,r.jsxs)(l.default,{href:"/account/addresses/new",className:"btn-luxury flex items-center",children:[(0,r.jsx)(m.Z,{size:20,className:"mr-2"}),"Add Address"]})]}),k?(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-500 mx-auto"}),(0,r.jsx)("p",{className:"text-gray-400 mt-2",children:"Loading addresses..."})]}):j.length>0?(0,r.jsx)("div",{className:"space-y-4",children:j.map(e=>(0,r.jsx)("div",{className:"border border-gray-700 rounded-sm p-4",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,r.jsx)("span",{className:"text-yellow-500 text-xs font-medium uppercase",children:e.type}),e.is_default&&(0,r.jsx)("span",{className:"bg-yellow-500/20 text-yellow-500 text-xs px-2 py-1 rounded",children:"Default"})]}),(0,r.jsxs)("p",{className:"text-white text-body-sm",children:[e.address_line1,e.address_line2&&(0,r.jsx)("span",{className:"block text-gray-400",children:e.address_line2})]}),(0,r.jsxs)("p",{className:"text-gray-400 text-body-sm",children:[e.city,", ",e.state," ",e.postal_code]}),(0,r.jsx)("p",{className:"text-gray-400 text-body-sm",children:e.country})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("button",{className:"text-gray-400 hover:text-yellow-500 transition-colors duration-300",children:(0,r.jsx)(h,{size:16})}),(0,r.jsx)("button",{className:"text-gray-400 hover:text-red-500 transition-colors duration-300",children:(0,r.jsx)(x.Z,{size:16})})]})]})},e.id))}):(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)(u.Z,{size:48,className:"text-gray-600 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-400 text-body-md mb-4",children:"No saved addresses yet"}),(0,r.jsx)(l.default,{href:"/account/addresses/new",className:"btn-luxury",children:"Add Your First Address"})]})]})})]})]})})})}},2371:function(e,t,s){"use strict";s.d(t,{HB:function(){return l},LM:function(){return a},Yl:function(){return c},xS:function(){return n}});var r=s(9625),i=s(6885);let n=(0,r.Ue)()((0,i.tJ)((e,t)=>({items:[],addItem:function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2?arguments[2]:void 0;e(e=>{let i=e.items.find(e=>e.productId===t.id&&e.size===r);if(i)return{items:e.items.map(e=>e.id===i.id?{...e,quantity:e.quantity+s}:e)};let n={id:Math.random().toString(36).substr(2,9),productId:t.id,product:t,quantity:s,size:r,addedAt:new Date};return{items:[...e.items,n]}})},removeItem:t=>{e(e=>({items:e.items.filter(e=>e.id!==t)}))},updateQuantity:(s,r)=>{if(r<=0){t().removeItem(s);return}e(e=>({items:e.items.map(e=>e.id===s?{...e,quantity:r}:e)}))},clearCart:()=>{e({items:[]})},getTotalItems:()=>t().items.reduce((e,t)=>e+t.quantity,0),getSubtotal:()=>t().items.reduce((e,t)=>e+t.product.price*t.quantity,0),getTotal:()=>{let e=t().getSubtotal();return e+.08*e+(e>200?0:15)}}),{name:"elixir-victoria-cart"})),a=(0,r.Ue)(e=>({user:null,token:null,isAuthenticated:!1,isLoading:!1,login:t=>{e({user:t.user,token:t.token,isAuthenticated:!0})},logout:()=>{e({user:null,token:null,isAuthenticated:!1})},updateUser:t=>{e(e=>({user:e.user?{...e.user,...t}:null}))}})),l=(0,r.Ue)(e=>({isCartOpen:!1,isSearchOpen:!1,isMobileMenuOpen:!1,isNewsletterOpen:!1,openCart:()=>e({isCartOpen:!0}),closeCart:()=>e({isCartOpen:!1}),toggleCart:()=>e(e=>({isCartOpen:!e.isCartOpen})),openSearch:()=>e({isSearchOpen:!0}),closeSearch:()=>e({isSearchOpen:!1}),toggleSearch:()=>e(e=>({isSearchOpen:!e.isSearchOpen})),openMobileMenu:()=>e({isMobileMenuOpen:!0}),closeMobileMenu:()=>e({isMobileMenuOpen:!1}),toggleMobileMenu:()=>e(e=>({isMobileMenuOpen:!e.isMobileMenuOpen})),openNewsletter:()=>e({isNewsletterOpen:!0}),closeNewsletter:()=>e({isNewsletterOpen:!1}),toggleNewsletter:()=>e(e=>({isNewsletterOpen:!e.isNewsletterOpen}))})),c=(0,r.Ue)()((0,i.tJ)((e,t)=>({items:[],addItem:t=>{e(e=>e.items.some(e=>e.id===t.id)?e:{items:[...e.items,t]})},removeItem:t=>{e(e=>({items:e.items.filter(e=>e.id!==t)}))},isInWishlist:e=>t().items.some(t=>t.id===e),clearWishlist:()=>{e({items:[]})},getTotalItems:()=>t().items.length}),{name:"elixir-victoria-wishlist"}))}},function(e){e.O(0,[710,648,377,971,117,744],function(){return e(e.s=7471)}),_N_E=e.O()}]);